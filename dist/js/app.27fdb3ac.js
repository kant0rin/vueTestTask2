(function(){"use strict";var e={5706:function(e,t,n){var r=n(9242),a=n(3396);const s={class:"content"};function i(e,t,n,r,i,o){const c=(0,a.up)("HeaderComponent"),l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c),(0,a._)("div",s,[(0,a.Wm)(l)])],64)}const o=async()=>{const e=await fetch("https://www.cbr-xml-daily.ru/daily_json.js"),t=await e.json();return t.Valute},c=async(e,t,n)=>{var r=new Headers;r.append("apikey","SriXjtSK2rKJ6HJUw20Szttle1xYPn6M");var a={method:"GET",redirect:"follow",headers:r};const s=await fetch(`https://api.apilayer.com/exchangerates_data/convert?to=${t}&from=${e}&amount=${n}`,a),i=await s.json();return i.result},l=async(e,t)=>{var n=new Headers;n.append("apikey","uNOreed5T4bRjbJcTwpmK3ecX51vZmmQ");var r={method:"GET",redirect:"follow",headers:n};const a=await fetch(`https://api.apilayer.com/fixer/latest?symbols=${t}&base=${e}`,r),s=await a.json();return s.rates},u={class:"header"},d={class:"container"},p={class:"header__row"},h=(0,a._)("div",{class:"header__title"},[(0,a._)("h1",null,"Currency Converter by kant0rin. "),(0,a._)("i",{class:"fa-solid fa-dollar-sign"})],-1),v={class:"header__buttons"},w=(0,a._)("button",null,[(0,a._)("a",{href:"https://github.com/kant0rin"},"GitHub")],-1);function f(e,t,n,s,i,o){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("header",u,[(0,a._)("div",d,[(0,a._)("div",p,[h,(0,a._)("div",v,[(0,a._)("button",{onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>o.navBtnClick&&o.navBtnClick(...e)),["prevent"])),class:"active header__btn"},[(0,a.Wm)(c,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Converter")])),_:1})]),(0,a._)("button",{onClick:t[1]||(t[1]=(0,r.iM)(((...e)=>o.navBtnClick&&o.navBtnClick(...e)),["prevent"])),class:"header__btn"},[(0,a.Wm)(c,{to:"/daily"},{default:(0,a.w5)((()=>[(0,a.Uk)("Daily")])),_:1})]),w])])])])}var _={name:"HeaderComponent",data(){return{}},methods:{navBtnClick(e){const t=e.target.parentNode;t.classList.contains("active")||(document.querySelectorAll(".header__btn").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"))}}},m=n(89);const y=(0,m.Z)(_,[["render",f]]);var b=y,g={name:"App",components:{HeaderComponent:b},data(){return{xuy:"123",placeholder:"",valute:""}},methods:{},async created(){this.valute=await o()}};const C=(0,m.Z)(g,[["render",i]]);var k=C,O=n(2483),x=n(7139);const B=e=>((0,a.dD)("data-v-5235d0ca"),e=e(),(0,a.Cn)(),e),L={class:"daily__row"},U={class:"select_dropdown"},V=B((()=>(0,a._)("h1",null,"Chose base currency",-1))),j={class:"selected"},R={class:"dropdown_menu"},q={class:"daily_table"};function D(e,t,n,s,i,o){return(0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("div",U,[V,(0,a._)("div",j,[(0,a._)("div",{onClick:t[0]||(t[0]=(...e)=>o.dropdownClick&&o.dropdownClick(...e)),class:"selected_item"},(0,x.zw)(i.baseVal),1),(0,a.wy)((0,a._)("div",R,[(0,a._)("ul",null,[(0,a._)("li",{onClick:t[1]||(t[1]=(...e)=>o.changeBase&&o.changeBase(...e))}," RUB "),(0,a._)("li",{onClick:t[2]||(t[2]=(...e)=>o.changeBase&&o.changeBase(...e))}," EUR "),(0,a._)("li",{onClick:t[3]||(t[3]=(...e)=>o.changeBase&&o.changeBase(...e))}," JPY "),(0,a._)("li",{onClick:t[4]||(t[4]=(...e)=>o.changeBase&&o.changeBase(...e))}," CNY ")])],512),[[r.F8,i.dropdownOpen]])])]),(0,a._)("div",q,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(i.currencyList),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e},[(0,a._)("h1",null,(0,x.zw)(e),1),(0,a._)("h2",null,(0,x.zw)(i.currencyList[e].toFixed(2)),1)])))),128))])])])}n(7658);var E={name:"DailyComp",data(){return{baseVal:"USD",dropdownOpen:!1,valuteList:["USD","RUB","EUR","JPY","CNY"],currencyList:{}}},methods:{changeBase(e){const t=this.baseVal;this.baseVal=e.target.innerText,e.target.innerText=t,this.dropdownOpen=!1,this.deleteBaseInArr(),this.valuteList.push(t),this.sendRequest()},dropdownClick(){this.dropdownOpen?this.dropdownOpen=!1:this.dropdownOpen=!0},deleteBaseInArr(){const e=this.valuteList.indexOf(this.baseVal);this.valuteList.splice(e,1)},async sendRequest(){const e=this.baseVal,t=this.valuteList.join("%2C");this.currencyList=await l(e,t)}},created(){window.addEventListener("click",(e=>{e.target.classList.contains("selected_item")||(this.dropdownOpen=!1)}))},mounted(){this.deleteBaseInArr(),this.sendRequest()}};const S=(0,m.Z)(E,[["render",D],["__scopeId","data-v-5235d0ca"]]);var T=S;const H=e=>((0,a.dD)("data-v-8a7249be"),e=e(),(0,a.Cn)(),e),z={class:"error_window"},I={class:"converter"},Y={class:"container"},N={class:"converter__row"},P=H((()=>(0,a._)("h1",null,"Type your request",-1))),A={action:"#"},J={class:"result"};function K(e,t,n,s,i,o){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",z,(0,x.zw)(i.unexpected)+" is unexpected ",1),(0,a._)("div",I,[(0,a._)("div",Y,[(0,a._)("div",N,[P,(0,a._)("form",A,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.input=e),placeholder:"for example: 15 usd in rub",type:"text"},null,512),[[r.nr,i.input]]),(0,a._)("button",{onKeyup:t[1]||(t[1]=(0,r.D2)(((...e)=>o.convert&&o.convert(...e)),["enter"])),onClick:t[2]||(t[2]=(0,r.iM)(((...e)=>o.convert&&o.convert(...e)),["prevent"]))},"Convert",32)]),(0,a._)("div",J,(0,x.zw)(i.quantity)+" "+(0,x.zw)(i.firstVal)+" = "+(0,x.zw)(i.result)+" "+(0,x.zw)(i.secVal),1)])])])],64)}var M={name:"ConverterComp",async created(){this.valutes=await o()},computed:{splitInput(){return this.input.split(" ")},namesOfValutes(){let e=[];for(let t in this.valutes)e.push(t);return e}},data(){return{input:"",valutes:"",quantity:15,firstVal:"USD",secVal:"RUB",result:1500,unexpected:""}},methods:{convert(){const e=this.splitInput,t=this.namesOfValutes;let n=0,r="",a="";e.forEach((e=>{let s=e.toUpperCase();!1===isNaN(e)?n=e:""===r&&"IN"!==s?-1!==t.indexOf(s)?r=s:"RUB"===s?r="RUB":(console.log(s+" is unexpected"),this.generateError(!1,s)):""===a&&"IN"!==s&&(-1!==t.indexOf(s)?a=s:"RUB"===s?a="RUB":(console.log(s+" is unexpected"),this.generateError(!1,s)))})),""!==this.input?this.showResult(n,r,a):this.generateError(!0,!1)},async showResult(e,t,n){const r=await c(t,n,e);this.quantity=e,this.firstVal=t,this.secVal=n,this.result=r.toFixed(2),document.querySelector(".result").classList.add("active")},generateError(e,t){e?document.querySelector(".result").innerText="Your request is empty":t&&(document.querySelector(".result").classList.remove("active"),this.unexpected=t,document.querySelector(".error_window").classList.add("active"),setTimeout((()=>{document.querySelector(".error_window").classList.remove("active")}),3e3))}}};const Z=(0,m.Z)(M,[["render",K],["__scopeId","data-v-8a7249be"]]);var $=Z,F=(0,O.p7)({history:(0,O.PO)(),routes:[{path:"/daily",component:T},{path:"/",component:$}]});const W=(0,r.ri)(k);W.use(F),W.mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,s){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],s=e[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,i=r[0],o=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var u=c(n)}for(t&&t(r);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},r=self["webpackChunkcurrency"]=self["webpackChunkcurrency"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5706)}));r=n.O(r)})();
//# sourceMappingURL=app.27fdb3ac.js.map